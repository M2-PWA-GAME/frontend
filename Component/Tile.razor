@using frontend.Model
<div class="tile" @onclick="ActualTile.OnTileClick">
    <div class="hover" style="background-color: @ActualTile.HoverColor; opacity: 0.5">
    </div>
    <div class="object">
        @if (!string.IsNullOrWhiteSpace(ActualTile.ObjectImage))
        {
            <img alt="Object image" src="@ActualTile.ObjectImage"/>
        }
    </div>
    <div class="floor">
        <img alt="Map image" src="@ActualTile.MapImage" />
    </div>
</div>

@code {
    [Parameter]
    public int X { get; set; }

    [Parameter]
    public int Y { get; set; }

    [Parameter]
    public TileModel ActualTile { get; set; }

    [Parameter]
    public GameModel Game { get; set; }

    /// <summary>
    /// Method invoked when the component is ready to start, having received its
    /// initial parameters from its parent in the render tree.
    /// </summary>
    protected override void OnInitialized()
    {
        Game.RefreshRequested += Game_OnRefreshRequested;
    }

    private void Game_OnRefreshRequested()
    {
        StateHasChanged();
    }

}